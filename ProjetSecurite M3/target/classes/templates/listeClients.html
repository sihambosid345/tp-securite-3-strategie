<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="layout1">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/5.3.8/css/bootstrap.min.css">
  <script src="/webjars/bootstrap/5.3.8/js/bootstrap.bundle.js"></script>
</head>
<body>
<div class="container mt-5" layout:fragment="content">
  <div class="card mt-2">
    <div class="card-body">
      <form method="get" th:action="@{/user/index}">
        <label>Nom</label>
        <input type="text" name="keyword" th:value="${keyword}">
        <button class="btn btn-primary" type="submit">Chercher</button>
        <a sec:authorize="hasRole('ADMIN')" class="btn btn-warning" th:href="@{/admin/nouveauClient}">Nouveau Client</a>
      </form>
    </div>
  </div>
  <table class="table">
    <thead>
    <tr>
      <th>ID</th>
      <th>NOM</th>
      <th>AGE</th>
      <th sec:authorize="hasRole('ADMIN')">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="c:${clients}">
      <td th:text="${c.id}"></td>
      <td th:text="${c.nom}"></td>
      <td th:text="${c.age}"></td>
      <td sec:authorize="hasRole('ADMIN')">
        <a class="btn btn-danger" th:href="@{/admin/delete(id=${c.id})}"
           onclick="return confirm('Etes vous sÃ»r ?')">Supprimer</a>
        <a class="btn btn-success" th:href="@{/admin/edit(id=${c.id})}">Modifier</a>
      </td>

    </tr>
    </tbody>
  </table>
</div>
</body>
</html>